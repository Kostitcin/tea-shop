import{a as x}from"./chunk-RNYWHQWM.js";import{B as f,C as v,H as E,I as P,Ia as k,Ka as A,Qa as T,R as h,S as u,Sa as w,T as l,Va as p,Xa as O,Ya as B,_ as F,aa as g,da as n,ea as c,fa as b,ga as M,ia as y,ja as N,ma as S,ra as s,sa as I,ta as m,x as a,xa as j,ya as _}from"./chunk-64B7LTBM.js";function U(r,t){if(r&1){let d=M();n(0,"div",4)(1,"div",5),b(2,"img",6),n(3,"div",7)(4,"div",8),s(5),c(),n(6,"div",9),s(7),j(8,"truncate"),c(),n(9,"button",10),y("click",function(){let e=E(d).$implicit,o=N();return P(o.viewDetails(e.id))}),n(10,"div",11),s(11,"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"),c()()()()()}if(r&2){let d=t.$implicit;u(2),S("src",d.image,h),u(3),m(" ",d.title," "),u(2),m(" ",_(8,3,d.description,120)," ")}}var R=(()=>{let t=class t{constructor(i,e){this.productService=i,this.router=e,this.products=[]}ngOnInit(){this.productService.getProducts().subscribe({next:i=>{this.products=i},error:i=>{console.log(i),this.router.navigate(["/"])}})}viewDetails(i){this.router.navigate(["/collections",i])}};t.\u0275fac=function(e){return new(e||t)(l(x),l(w))},t.\u0275cmp=f({type:t,selectors:[["products-component"]],decls:6,vars:1,consts:[[1,"container","mb-5"],[1,"text-center","fs-2","fw-bold","mb-5"],[1,"row","row-cols-1","row-cols-sm-1","row-cols-lg-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","shadow-sm","h-100","d-flex","flex-column"],["alt","",1,"img-fluid",3,"src"],[1,"card-body","ps-4","flex-grow-1"],[1,"card-text","mb-3","fw-bold","fs-5"],[1,"card-text","mb-3","overflow-hidden"],["type","button",1,"btn","btn-primary","mt-auto",3,"click"],[1,"ps-4","pe-4"]],template:function(e,o){e&1&&(n(0,"section")(1,"div",0)(2,"div",1),s(3,"\u041D\u0430\u0448\u0438 \u0447\u0430\u0439\u043D\u044B\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438"),c(),n(4,"div",2),F(5,U,12,6,"div",3),c()()()),e&2&&(u(5),g("ngForOf",o.products))},dependencies:[k,O]});let r=t;return r})();var V=(()=>{let t=class t{constructor(i,e,o){this.route=i,this.productService=e,this.router=o}ngOnInit(){let i=Number(this.route.snapshot.paramMap.get("id"));if(isNaN(i)||i<=0){this.error="\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ID \u0442\u043E\u0432\u0430\u0440\u0430";return}this.productService.getProduct(i).subscribe({next:e=>{Array.isArray(e)?this.error="\u041D\u0435\u043E\u0436\u0438\u0434\u0430\u043D\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u043E\u0442\u0432\u0435\u0442\u0430":this.product=e},error:e=>{console.error(e),this.error="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435 \u043E \u0442\u043E\u0432\u0430\u0440\u0435. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."}})}buyProduct(){this.product&&(this.productService.setProductName(this.product.title),localStorage.setItem("productName",this.product.title),this.router.navigate(["/order"]))}};t.\u0275fac=function(e){return new(e||t)(l(T),l(x),l(w))},t.\u0275cmp=f({type:t,selectors:[["app-product-detail"]],decls:13,vars:5,consts:[[1,"container","mt-5","mb-5"],[1,"row"],[1,"col-md-6"],[1,"img-fluid",3,"src","alt"],[1,"fs-2"],[1,"fs-4","text-primary"],[1,"fs-6"],[1,"btn","btn-primary","mt-3",3,"click"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),b(3,"img",3),c(),n(4,"div",2)(5,"h1",4),s(6),c(),n(7,"p",5),s(8),c(),n(9,"p",6),s(10),c(),n(11,"button",7),y("click",function(){return o.buyProduct()}),s(12,"\u041A\u0443\u043F\u0438\u0442\u044C"),c()()()()),e&2&&(u(3),S("alt",o.product==null?null:o.product.title),g("src",o.product==null?null:o.product.image,h),u(3),I(o.product==null?null:o.product.title),u(2),m("$",o.product==null?null:o.product.price,""),u(2),I(o.product==null?null:o.product.description))}});let r=t;return r})();var q=[{path:"",component:R},{path:":id",component:V}],D=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v({type:t}),t.\u0275inj=a({imports:[p.forChild(q),p]});let r=t;return r})();var ut=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v({type:t}),t.\u0275inj=a({imports:[A,B,p,D,D]});let r=t;return r})();export{ut as ProductsModule};
