import{a as T,b as c,c as O,d as q,e as z,f as w,g as M,h as V,i as j,j as $}from"./chunk-IBEVQLXG.js";import{a as G}from"./chunk-RNYWHQWM.js";import{B as S,C as F,H as h,I as y,Ja as I,Ka as N,La as A,S as d,T as C,Va as v,Ya as k,_ as p,aa as l,da as n,ea as u,fa as f,ga as D,ia as B,ja as _,ra as m,x as g}from"./chunk-64B7LTBM.js";function P(e,t){e&1&&(n(0,"div",5),m(1,"\u0421\u0434\u0435\u043B\u0430\u0442\u044C \u0437\u0430\u043A\u0430\u0437 "),u())}function Y(e,t){e&1&&(n(0,"div"),m(1,"\u0418\u043C\u044F \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F."),u())}function H(e,t){e&1&&(n(0,"div"),m(1,"\u0412 \u0438\u043C\u0435\u043D\u0438 \u043C\u043E\u0436\u043D\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u0431\u0443\u043A\u0432\u044B."),u())}function J(e,t){if(e&1&&(n(0,"div",32),p(1,Y,2,0,"div",33)(2,H,2,0,"div",33),u()),e&2){let o,r,i=_(2);d(),l("ngIf",(o=i.orderForm.get("name"))==null||o.errors==null?null:o.errors.required),d(),l("ngIf",(r=i.orderForm.get("name"))==null||r.errors==null?null:r.errors.pattern)}}function K(e,t){e&1&&(n(0,"div"),m(1,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u0430 \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F."),u())}function L(e,t){e&1&&(n(0,"div"),m(1,"\u0412 \u0444\u0430\u043C\u0438\u043B\u0438\u0438 \u043C\u043E\u0436\u043D\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u0431\u0443\u043A\u0432\u044B. "),u())}function Q(e,t){if(e&1&&(n(0,"div",32),p(1,K,2,0,"div",33)(2,L,2,0,"div",33),u()),e&2){let o,r,i=_(2);d(),l("ngIf",(o=i.orderForm.get("last_name"))==null||o.errors==null?null:o.errors.required),d(),l("ngIf",(r=i.orderForm.get("last_name"))==null||r.errors==null?null:r.errors.pattern)}}function U(e,t){e&1&&(n(0,"div"),m(1,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u0435\u043D \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F."),u())}function W(e,t){e&1&&(n(0,"div"),m(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u043D\u044B\u0439 \u043D\u043E\u043C\u0435\u0440."),u())}function X(e,t){if(e&1&&(n(0,"div",32),p(1,U,2,0,"div",33)(2,W,2,0,"div",33),u()),e&2){let o,r,i=_(2);d(),l("ngIf",(o=i.orderForm.get("phone"))==null||o.errors==null?null:o.errors.required),d(),l("ngIf",(r=i.orderForm.get("phone"))==null||r.errors==null?null:r.errors.pattern)}}function ee(e,t){e&1&&(n(0,"div"),m(1,"\u0421\u0442\u0440\u0430\u043D\u0430 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u0430 \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F."),u())}function te(e,t){e&1&&(n(0,"div"),m(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0442\u0440\u0430\u043D\u044B."),u())}function ue(e,t){if(e&1&&(n(0,"div",32),p(1,ee,2,0,"div",33)(2,te,2,0,"div",33),u()),e&2){let o,r,i=_(2);d(),l("ngIf",(o=i.orderForm.get("country"))==null||o.errors==null?null:o.errors.required),d(),l("ngIf",(r=i.orderForm.get("country"))==null||r.errors==null?null:r.errors.pattern)}}function re(e,t){e&1&&(n(0,"div"),m(1,"\u0418\u043D\u0434\u0435\u043A\u0441 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u0435\u043D \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F."),u())}function ie(e,t){e&1&&(n(0,"div"),m(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u0438\u043D\u0434\u0435\u043A\u0441."),u())}function ne(e,t){if(e&1&&(n(0,"div",32),p(1,re,2,0,"div",33)(2,ie,2,0,"div",33),u()),e&2){let o,r,i=_(2);d(),l("ngIf",(o=i.orderForm.get("zip"))==null||o.errors==null?null:o.errors.required),d(),l("ngIf",(r=i.orderForm.get("zip"))==null||r.errors==null?null:r.errors.pattern)}}function oe(e,t){e&1&&(n(0,"div"),m(1,"\u0410\u0434\u0440\u0435\u0441 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u0435\u043D \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F."),u())}function le(e,t){e&1&&(n(0,"div"),m(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441."),u())}function me(e,t){if(e&1&&(n(0,"div",32),p(1,oe,2,0,"div",33)(2,le,2,0,"div",33),u()),e&2){let o,r,i=_(2);d(),l("ngIf",(o=i.orderForm.get("address"))==null||o.errors==null?null:o.errors.required),d(),l("ngIf",(r=i.orderForm.get("address"))==null||r.errors==null?null:r.errors.pattern)}}function de(e,t){e&1&&(n(0,"div",34),m(1," \u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437. "),u())}function ae(e,t){if(e&1){let o=D();n(0,"form",6),B("ngSubmit",function(){h(o);let i=_();return y(i.onSubmit())}),n(1,"div",7)(2,"div",8)(3,"label",9),m(4,"\u0418\u043C\u044F"),u(),f(5,"input",10),p(6,J,3,2,"div",11),u(),n(7,"div",8)(8,"label",12),m(9,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"),u(),f(10,"input",13),p(11,Q,3,2,"div",11),u(),n(12,"div",8)(13,"label",14),m(14,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D"),u(),f(15,"input",15),p(16,X,3,2,"div",11),u(),n(17,"div",16)(18,"label",17),m(19,"\u0421\u0442\u0440\u0430\u043D\u0430"),u(),f(20,"input",18),p(21,ue,3,2,"div",11),u(),n(22,"div",16)(23,"label",19),m(24,"\u0418\u043D\u0434\u0435\u043A\u0441"),u(),f(25,"input",20),p(26,ne,3,2,"div",11),u(),n(27,"div",21)(28,"label",22),m(29,"\u0410\u0434\u0440\u0435\u0441"),u(),f(30,"input",23),p(31,me,3,2,"div",11),u(),n(32,"div",21)(33,"label",24),m(34,"\u0422\u043E\u0432\u0430\u0440"),u(),f(35,"input",25),u(),n(36,"div",26)(37,"label",27),m(38,"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439"),u(),f(39,"input",28),u()(),n(40,"button",29)(41,"div",30),m(42,"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"),u()(),p(43,de,2,0,"div",31),u()}if(e&2){let o,r,i,s,E,x,a=_();l("formGroup",a.orderForm),d(6),l("ngIf",((o=a.orderForm.get("name"))==null?null:o.invalid)&&(((o=a.orderForm.get("name"))==null?null:o.touched)||a.isSubmitted)),d(5),l("ngIf",((r=a.orderForm.get("last_name"))==null?null:r.invalid)&&(((r=a.orderForm.get("last_name"))==null?null:r.touched)||a.isSubmitted)),d(5),l("ngIf",((i=a.orderForm.get("phone"))==null?null:i.invalid)&&(((i=a.orderForm.get("phone"))==null?null:i.touched)||a.isSubmitted)),d(5),l("ngIf",((s=a.orderForm.get("country"))==null?null:s.invalid)&&(((s=a.orderForm.get("country"))==null?null:s.touched)||a.isSubmitted)),d(5),l("ngIf",((E=a.orderForm.get("zip"))==null?null:E.invalid)&&(((E=a.orderForm.get("zip"))==null?null:E.touched)||a.isSubmitted)),d(5),l("ngIf",((x=a.orderForm.get("address"))==null?null:x.invalid)&&(((x=a.orderForm.get("address"))==null?null:x.touched)||a.isSubmitted)),d(4),l("value",a.productName),d(8),l("ngIf",a.submissionError)}}function pe(e,t){e&1&&(n(0,"div",35)(1,"div",36),m(2,"\u0421\u043F\u0430\u0441\u0438\u0431\u043E \u0437\u0430 \u0437\u0430\u043A\u0430\u0437!"),u()())}var Z=(()=>{let t=class t{constructor(r,i,s){this.productService=r,this.fb=i,this.http=s,this.productName="",this.isSubmitted=!1,this.submissionError=!1}ngOnInit(){this.productName=localStorage.getItem("productName")||this.productService.getProductName(),this.orderForm=this.fb.group({product:[{value:this.productName,disabled:!0}],comment:[""],name:["",[c.required,c.pattern(/^[A-Za-zА-Яа-я]+$/)]],last_name:["",[c.required,c.pattern(/^[A-Za-zА-Яа-я]+$/)]],phone:["",[c.required,c.pattern(/^\+?\d{11}$/)]],country:["",[c.required,c.pattern(/^[A-Za-zА-Яа-я\s]+$/)]],zip:["",[c.required,c.pattern(/^\d+$/)]],address:["",[c.required,c.pattern(/^[A-Za-zА-Яа-я0-9\s\-\/]+$/)]]})}onSubmit(){this.orderForm.valid?this.http.post("https://testologia.ru/order-tea",this.orderForm.getRawValue()).subscribe({next:r=>{r.success===1?(this.isSubmitted=!0,this.submissionError=!1,this.orderForm.reset(),localStorage.removeItem("productName")):(this.isSubmitted=!1,this.submissionError=!0)},error:()=>{this.isSubmitted=!1,this.submissionError=!0}}):this.orderForm.markAllAsTouched()}};t.\u0275fac=function(i){return new(i||t)(C(G),C(j),C(A))},t.\u0275cmp=S({type:t,selectors:[["order-component"]],decls:6,vars:3,consts:[[1,"container","mt-5"],["id","orForm","class","text-center fs-2 fw-bold mb-5 mt-5",4,"ngIf"],[1,"container","col-xl-4","col-lg-6","col-md-8"],["class","needs-validation mb-5","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["id","thankYouBlock","class","container mt-5",4,"ngIf"],["id","orForm",1,"text-center","fs-2","fw-bold","mb-5","mt-5"],["novalidate","",1,"needs-validation","mb-5",3,"ngSubmit","formGroup"],[1,"row","mx-auto","g-3"],[1,"col-xl-4"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","last_name","placeholder","","required","",1,"form-control"],["for","phone",1,"form-label"],["type","tel","id","phone","formControlName","phone","placeholder","","required","",1,"form-control"],[1,"col-xl-6"],["for","country",1,"form-label"],["type","text","id","country","formControlName","country","placeholder","","required","",1,"form-control"],["for","zip",1,"form-label"],["type","text","id","zip","formControlName","zip","placeholder","","required","",1,"form-control"],[1,"col-12","mb-2"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address","placeholder","","required","",1,"form-control"],["for","product",1,"form-label"],["type","text","id","product","formControlName","product","readonly","",1,"form-control",3,"value"],[1,"col-12","mb-4"],["for","comment",1,"form-label"],["type","text","id","comment","formControlName","comment",1,"form-control"],[1,"btn","btn-primary","mt-auto","ms-2"],[1,"ps-5","pe-5"],["class","text-danger mt-3",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],[1,"text-danger","mt-3"],["id","thankYouBlock",1,"container","mt-5"],[1,"text-center","fs-2","fw-bold","mb-5"]],template:function(i,s){i&1&&(n(0,"section")(1,"div",0),p(2,P,2,0,"div",1),u(),n(3,"div",2),p(4,ae,44,9,"form",3)(5,pe,3,0,"div",4),u()()),i&2&&(d(2),l("ngIf",!s.isSubmitted||s.submissionError),d(2),l("ngIf",!s.isSubmitted||s.submissionError),d(),l("ngIf",s.isSubmitted&&!s.submissionError))},dependencies:[z,T,O,q,V,w,M,I]});let e=t;return e})();var se=[{path:"",component:Z}],b=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=F({type:t}),t.\u0275inj=g({imports:[v.forChild(se),v]});let e=t;return e})();var Ne=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=F({type:t}),t.\u0275inj=g({imports:[k,$,N,v,b,b]});let e=t;return e})();export{Ne as OrderModule};
